<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Item Integrators · GradientRobustMultiPhysics.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">GradientRobustMultiPhysics.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../package_index/">Index</a></li><li><span class="tocitem">Problem Description</span><ul><li><a class="tocitem" href="../pdedescription/">PDE Description</a></li><li><a class="tocitem" href="../pdeoperators/">PDE Operators</a></li><li><a class="tocitem" href="../functionoperators/">Function Operators</a></li><li><a class="tocitem" href="../userdata/">User Data and Actions</a></li><li><a class="tocitem" href="../boundarydata/">Boundary Data</a></li><li><a class="tocitem" href="../globalconstraints/">Global Constraints</a></li><li><a class="tocitem" href="../pdeprototypes/">PDE Prototypes</a></li></ul></li><li><span class="tocitem">Discretisation</span><ul><li><a class="tocitem" href="../meshing/">Meshing</a></li><li><a class="tocitem" href="../fems/">Implemented Finite Elements</a></li><li><a class="tocitem" href="../fespace/">Finite Element Spaces and Arrays</a></li><li><a class="tocitem" href="../interpolations/">Finite Element Interpolations</a></li></ul></li><li><span class="tocitem">Solving</span><ul><li><a class="tocitem" href="../pdesolvers/">Fixed-Time Solvers</a></li><li><a class="tocitem" href="../timecontrolsolver/">Time-Dependent Solvers</a></li></ul></li><li><span class="tocitem">Postprocessing</span><ul><li class="is-active"><a class="tocitem" href>Item Integrators</a><ul class="internal"><li><a class="tocitem" href="#Evaluation"><span>Evaluation</span></a></li></ul></li><li><a class="tocitem" href="../pointevaluators/">Point Evaluators</a></li><li><a class="tocitem" href="../viewers/">Viewers</a></li><li><a class="tocitem" href="../export/">Data Export</a></li></ul></li><li><span class="tocitem">Low-Level Structures</span><ul><li><a class="tocitem" href="../quadrature/">Quadrature</a></li><li><a class="tocitem" href="../assemblypatterns/">Assembly Patterns</a></li><li><a class="tocitem" href="../febasisevaluators/">FE Evaluators</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples_intro/">About the examples</a></li><li><a class="tocitem" href="../examples/Example101_Bestapproximation1D/">101 : L2-Bestapproximation 1D</a></li><li><a class="tocitem" href="../examples/Example102_RobinBoundaryCondition1D/">102 : Robin-Boundary Conditions 1D</a></li><li><a class="tocitem" href="../examples/Example201_PoissonProblem2D/">201 : Poisson-Problem 2D</a></li><li><a class="tocitem" href="../examples/Example202_LinearElasticity2D/">202 : Linear Elasticity</a></li><li><a class="tocitem" href="../examples/Example203_ReactionConvectionDiffusion2D/">203 : Reaction-Convection-Diffusion-Problem 2D</a></li><li><a class="tocitem" href="../examples/Example204_ReactionConvectionDiffusionSUPG2D/">204 : Reaction-Convection-Diffusion-Problem SUPG 2D</a></li><li><a class="tocitem" href="../examples/Example205_NonlinearPoisson2D/">205 : Nonlinear Poisson Problem 2D</a></li><li><a class="tocitem" href="../examples/Example206_NonlinearPoissonTransient2D/">206 : Nonlinear Poisson Transient 2D</a></li><li><a class="tocitem" href="../examples/Example207_NonlinearElasticityBimetal2D/">207 : Nonlinear Elasticity Bimetal 2D</a></li><li><a class="tocitem" href="../examples/Example208_ObstacleProblem2D/">208 : Obstacle Problem 2D</a></li><li><a class="tocitem" href="../examples/Example209_FaceLagrangeMultiplier2D/">209 : Lagrange Multiplier on Faces</a></li><li><a class="tocitem" href="../examples/Example210_PoissonLshapeAdaptive2D/">210 : Poisson L-shape Adaptive Mesh Refinement</a></li><li><a class="tocitem" href="../examples/Example212_WaveEquation2D/">212 : Wave Equation 2D</a></li><li><a class="tocitem" href="../examples/Example215_TwoNonlinearCoupled2D/">215 : Two nonlinearly coupled PDEs (2D)</a></li><li><a class="tocitem" href="../examples/Example220_PlanarLatticeFlow2D/">220 : Planar Lattice Flow 2D</a></li><li><a class="tocitem" href="../examples/Example221_StokesIterated2D/">221 : Stokes iterated penalty method 2D</a></li><li><a class="tocitem" href="../examples/Example222_PressureRobustness2D/">222 : Pressure-robustness 2D</a></li><li><a class="tocitem" href="../examples/Example223_StokesHdivDG2D/">223 : Stokes Hdiv-DG 2D</a></li><li><a class="tocitem" href="../examples/Example224_StokesHdivP1RT/">224 : Stokes <span>$(P1 \oplus RT0) \times P0$</span></a></li><li><a class="tocitem" href="../examples/Example225_NavierStokesAnderson2D/">225 : Navier-Stokes Lid-driven cavity + Anderson Acceleration</a></li><li><a class="tocitem" href="../examples/Example226_StokesTransient2D/">226 : Stokes Transient 2D</a></li><li><a class="tocitem" href="../examples/Example227_FlowTransport2D/">227 : Flow + Transport 2D</a></li><li><a class="tocitem" href="../examples/Example230_FlowAroundCylinder2D/">230 : Flow around a cylinder 2D</a></li><li><a class="tocitem" href="../examples/Example231_TransientFlowAroundCylinder2D/">231 : Transient Flow around a cylinder 2D</a></li><li><a class="tocitem" href="../examples/Example235_NaturalConvectionTriangle2D/">235 : Natural Convection Triangle 2D</a></li><li><a class="tocitem" href="../examples/Example236_NaturalConvectionSquare2D/">236 : Natural Convection Square 2D</a></li><li><a class="tocitem" href="../examples/Example240_CompressibleStokes2D/">240 : Compressible Stokes 2D</a></li><li><a class="tocitem" href="../examples/Example250_LevelSetMethod2D/">250 : Level Set Method 2D</a></li><li><a class="tocitem" href="../examples/Example260_CahnHilliard2D/">260 : Cahn-Hilliard Equations 2D</a></li><li><a class="tocitem" href="../examples/Example301_Poisson3D/">301 : Poisson-Problem 3D</a></li><li><a class="tocitem" href="../examples/Example302_BestapproximationHdiv3D/">302 : Bestapproximation Hdiv 3D</a></li><li><a class="tocitem" href="../examples/ExampleA01_RationalMassMatrix/">A01 : Rational Mass Matrix</a></li><li><a class="tocitem" href="../examples/ExampleA02_CommutingInterpolators2D/">A02 : Commuting Interpolators 2D</a></li><li><a class="tocitem" href="../examples/ExampleA03_CommutingInterpolators3D/">A03 : Commuting Interpolators 3D</a></li><li><a class="tocitem" href="../examples/ExampleA04_CustomLinearSolver/">A04 : Custom Linear Solvers</a></li><li><a class="tocitem" href="../examples/ExampleA05_DiffEQ/">A05 : Comparison with DifferentialEquations.jl</a></li><li><a class="tocitem" href="../examples/ExampleA06_LocalEquilibratedFluxes2D/">A06 : Local Equilibrated Fluxes 2D</a></li><li><a class="tocitem" href="../examples/ExampleA07_InterpolationBetweenMeshes/">A07 : Interpolation Between Meshes</a></li><li><a class="tocitem" href="../examples/ExampleA08_BasisPlotter/">A08 : Basis-Plotter</a></li><li><a class="tocitem" href="../examples/ExampleA09_PoissonLowLevel/">A09 : Poisson-Problem with low level structures</a></li><li><a class="tocitem" href="../examples/ExampleA10_PoissonPeriodic/">A10 : Poisson-Problem with periodic boundary</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Postprocessing</a></li><li class="is-active"><a href>Item Integrators</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Item Integrators</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/chmerdon/GradientRobustMultiPhysics.jl/blob/master/docs/src/itemintegrators.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Item-Integrators"><a class="docs-heading-anchor" href="#Item-Integrators">Item Integrators</a><a id="Item-Integrators-1"></a><a class="docs-heading-anchor-permalink" href="#Item-Integrators" title="Permalink"></a></h1><p>Item integrators are one of the <a href="../assemblypatterns/#Assembly-Patterns">Assembly Patterns</a> that help to compute certain quantities of the Solution, like a posteriori errors estimators, norms, drag/lift coefficients or other statistics.</p><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.ItemIntegrator" href="#GradientRobustMultiPhysics.ItemIntegrator"><code>GradientRobustMultiPhysics.ItemIntegrator</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ItemIntegrator(operators) -&gt; GradientRobustMultiPhysics.AssemblyPattern{ItemIntegrator, Float64, ON_CELLS, Float64, Int32, NoAction}
ItemIntegrator(operators, action; T, AT, regions, name) -&gt; GradientRobustMultiPhysics.AssemblyPattern{ItemIntegrator, Float64, ON_CELLS, Float64, Int32}
</code></pre><p>Creates an ItemIntegrator assembly pattern based on:</p><ul><li>operators : operators that should be evaluated for the coressponding FESpace (last one refers to test function)</li><li>action    : an Action with kernel of interface (result, input, kwargs) that takes input (= all but last operator evaluations) and computes result to be dot-producted with test function evaluation             (if no action is specified, the full input vector is dot-producted with the test function operator evaluation)</li></ul><p>Optional arguments:</p><ul><li>T         : expected NumberType for evaluation output</li><li>AT        : specifies on which entities of the grid the ItemINtegrator is evaluated</li><li>regions   : specifies in which regions the operator should assemble, default [0] means all regions</li><li>name      : name for this LinearForm that is used in print messages</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/chmerdon/GradientRobustMultiPhysics.jl/blob/2e55746d4be4973691eadce977a0a575ce1c268c/src/assemblypatterns/itemintegrator.jl#L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.L2ErrorIntegrator" href="#GradientRobustMultiPhysics.L2ErrorIntegrator"><code>GradientRobustMultiPhysics.L2ErrorIntegrator</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">L2ErrorIntegrator(compare_data::GradientRobustMultiPhysics.AbstractUserDataType) -&gt; GradientRobustMultiPhysics.AssemblyPattern{ItemIntegrator, _A, _B, Float64, Int32} where {_A&lt;:Real, _B&lt;:AssemblyType}
L2ErrorIntegrator(compare_data::GradientRobustMultiPhysics.AbstractUserDataType, operator; T, quadorder, name, AT, factor, regions, time) -&gt; GradientRobustMultiPhysics.AssemblyPattern{ItemIntegrator, _A, _B, Float64, Int32} where {_A&lt;:Real, _B&lt;:AssemblyType}
</code></pre><p>Creates an ItemIntegrator that compares discrete FEVectorBlock operator-evaluations against the given compare<em>data and returns the L2-error || compare</em>data(x) - factor*discrete(x) ||. If quadorder is left on &quot;auto&quot; two times the quadorder of the data is used in the evaluation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/chmerdon/GradientRobustMultiPhysics.jl/blob/2e55746d4be4973691eadce977a0a575ce1c268c/src/assemblypatterns/itemintegrator.jl#L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.L2NormIntegrator" href="#GradientRobustMultiPhysics.L2NormIntegrator"><code>GradientRobustMultiPhysics.L2NormIntegrator</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">L2NormIntegrator(ncomponents::Int64, operator; T, AT, name, quadorder, regions) -&gt; GradientRobustMultiPhysics.AssemblyPattern{ItemIntegrator, _A, _B, Float64, Int32} where {_A&lt;:Real, _B&lt;:AssemblyType}
</code></pre><p>Creates an ItemIntegrator that computes the L2 norm of an operator evaluation where ncomponents is the expected length of the operator evaluation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/chmerdon/GradientRobustMultiPhysics.jl/blob/2e55746d4be4973691eadce977a0a575ce1c268c/src/assemblypatterns/itemintegrator.jl#L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.L2DifferenceIntegrator" href="#GradientRobustMultiPhysics.L2DifferenceIntegrator"><code>GradientRobustMultiPhysics.L2DifferenceIntegrator</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">L2DifferenceIntegrator(ncomponents::Int64, operator; AT, T, name, quadorder, regions) -&gt; GradientRobustMultiPhysics.AssemblyPattern{ItemIntegrator, _A, _B, Float64, Int32} where {_A&lt;:Real, _B&lt;:AssemblyType}
</code></pre><p>Creates an ItemIntegrator that computes the L2 norm difference between two arguments evalauted with the same operator (or with different operators if operator is an array) where ncomponents is the expected length of each operator evaluation. Note that all arguments in an evaluation call need to be defined on the same grid !</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/chmerdon/GradientRobustMultiPhysics.jl/blob/2e55746d4be4973691eadce977a0a575ce1c268c/src/assemblypatterns/itemintegrator.jl#L128">source</a></section></article><h2 id="Evaluation"><a class="docs-heading-anchor" href="#Evaluation">Evaluation</a><a id="Evaluation-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluation" title="Permalink"></a></h2><p>There are two possibilities to evaluate an ItemIntegrator, on each item (with evaluate!) or globally (with evaluate):</p><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.evaluate!" href="#GradientRobustMultiPhysics.evaluate!"><code>GradientRobustMultiPhysics.evaluate!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function evaluate!(
    result,                     # target for result
    PE::PointEvaluator,         
    xref,                       # local coordinates inside item
    item                        # item number
    ) where  {T, Tv, Ti, FEType, FEOP, AT, ACT}</code></pre><p>Evaluates the PointEvaluator at the point with the given local coordinates insides the item with the specified item number. (To get the local coordinates, currently a CellFinder has to be maintained manually, this might change in future.)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/chmerdon/GradientRobustMultiPhysics.jl/blob/2e55746d4be4973691eadce977a0a575ce1c268c/src/assemblypatterns/pointevaluator.jl#L66-L78">source</a></section><section><div><pre><code class="language-julia hljs">function evaluate!(
    b::AbstractArray{T,2},
    AP::AssemblyPattern{APT,T,AT},
    FEB::Union{&lt;:FEVector{T,Tv,Ti},&lt;:FEVectorBlock{T,Tv,Ti},Array{&lt;:FEVectorBlock{T,Tv,Ti},1}};
    skip_preps::Bool = false) where {APT &lt;: APT_ItemIntegrator, T&lt;: Real, AT &lt;: AssemblyType, Tv, Ti}</code></pre><p>Evaluation of an ItemIntegrator assembly pattern with given FEVectorBlock or FEVector FEB into given two-dimensional Array b.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/chmerdon/GradientRobustMultiPhysics.jl/blob/2e55746d4be4973691eadce977a0a575ce1c268c/src/assemblypatterns/itemintegrator.jl#L158-L168">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.evaluate" href="#GradientRobustMultiPhysics.evaluate"><code>GradientRobustMultiPhysics.evaluate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function evaluate(PE::PointEvaluator)</code></pre><p>Returns the function     (result,xref,cell) –&gt; evaluate!(result,PE,xref,cell)</p><p>(e.g. to be used as a callback function in vectorplot!)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/chmerdon/GradientRobustMultiPhysics.jl/blob/2e55746d4be4973691eadce977a0a575ce1c268c/src/assemblypatterns/pointevaluator.jl#L53-L61">source</a></section><section><div><pre><code class="language-julia hljs">function evaluate(
    AP::AssemblyPattern{APT,T,AT},
    FEB::Union{&lt;:FEVector{T,Tv,Ti},&lt;:FEVectorBlock{T,Tv,Ti},Array{&lt;:FEVectorBlock{T,Tv,Ti},1}};
    skip_preps::Bool = false) where {APT &lt;: APT_ItemIntegrator, T&lt;: Real, AT &lt;: AssemblyType, Tv, Ti}
</code></pre><p>Evaluation of an ItemIntegrator assembly pattern with given FEVectorBlock or FEVector FEB, only returns accumulation over all items.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/chmerdon/GradientRobustMultiPhysics.jl/blob/2e55746d4be4973691eadce977a0a575ce1c268c/src/assemblypatterns/itemintegrator.jl#L312-L322">source</a></section></article><h4 id="Noteworthy-Examples"><a class="docs-heading-anchor" href="#Noteworthy-Examples">Noteworthy Examples</a><a id="Noteworthy-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Noteworthy-Examples" title="Permalink"></a></h4><p>Examples 204 and A06 use ItemIntegrators for a posteriori error estimation and refinement indicators.</p><p>Example 224 uses ItemIntegrators to calculate drag and lift coefficients.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../timecontrolsolver/">« Time-Dependent Solvers</a><a class="docs-footer-nextpage" href="../pointevaluators/">Point Evaluators »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Wednesday 22 June 2022 12:07">Wednesday 22 June 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
