<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>User Data and Actions · GradientRobustMultiPhysics.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">GradientRobustMultiPhysics.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../package_index/">Index</a></li><li><span class="tocitem">Problem Description</span><ul><li><a class="tocitem" href="../pdedescription/">PDE Description</a></li><li><a class="tocitem" href="../pdeoperators/">PDE Operators</a></li><li><a class="tocitem" href="../functionoperators/">Function Operators</a></li><li class="is-active"><a class="tocitem" href>User Data and Actions</a><ul class="internal"><li><a class="tocitem" href="#Data-Function"><span>Data Function</span></a></li><li><a class="tocitem" href="#Action"><span>Action</span></a></li></ul></li><li><a class="tocitem" href="../boundarydata/">Boundary Data</a></li><li><a class="tocitem" href="../globalconstraints/">Global Constraints</a></li><li><a class="tocitem" href="../pdeprototypes/">PDE Prototypes</a></li></ul></li><li><span class="tocitem">Discretisation</span><ul><li><a class="tocitem" href="../meshing/">Meshing</a></li><li><a class="tocitem" href="../fems/">Implemented Finite Elements</a></li><li><a class="tocitem" href="../fespace/">Finite Element Spaces and Arrays</a></li><li><a class="tocitem" href="../interpolations/">Finite Element Interpolations</a></li></ul></li><li><span class="tocitem">Solving</span><ul><li><a class="tocitem" href="../pdesolvers/">Fixed-Time Solvers</a></li><li><a class="tocitem" href="../timecontrolsolver/">Time-Dependent Solvers</a></li></ul></li><li><span class="tocitem">Postprocessing</span><ul><li><a class="tocitem" href="../itemintegrators/">Item Integrators</a></li><li><a class="tocitem" href="../pointevaluators/">Point Evaluators</a></li><li><a class="tocitem" href="../viewers/">Viewers</a></li><li><a class="tocitem" href="../export/">Data Export</a></li></ul></li><li><span class="tocitem">Low-Level Structures</span><ul><li><a class="tocitem" href="../quadrature/">Quadrature</a></li><li><a class="tocitem" href="../assemblypatterns/">Assembly Patterns</a></li><li><a class="tocitem" href="../febasisevaluators/">FE Evaluators</a></li></ul></li><li><span class="tocitem">Tutorial Notebooks</span><ul><li><a class="tocitem" href="../notebooks_intro/">About the notebooks</a></li><li><a class="tocitem" href="../nbhtml/BurgersEquation/">Burger&#39;s equation</a></li><li><a class="tocitem" href="../nbhtml/NonlinearElasticity/">Nonlinear elasticity</a></li><li><a class="tocitem" href="../nbhtml/NaturalConvection/">Natural convection</a></li><li><a class="tocitem" href="../nbhtml/CahnHilliard/">Cahn Hilliard</a></li><li><a class="tocitem" href="../nbhtml/PressureRobustness/">Pressure-robustness</a></li><li><a class="tocitem" href="../nbhtml/SVRTStabilization/">SVRT stabilization</a></li><li><a class="tocitem" href="../nbhtml/LowLevelPoisson/">Low level Poisson</a></li><li><a class="tocitem" href="../nbhtml/LowLevelNavierStokes/">Low level Navier-Stokes</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples_intro/">About the examples</a></li><li><a class="tocitem" href="../examples/Example101_Bestapproximation1D/">101 : L2-Bestapproximation 1D</a></li><li><a class="tocitem" href="../examples/Example102_RobinBoundaryCondition1D/">102 : Robin-Boundary Conditions 1D</a></li><li><a class="tocitem" href="../examples/Example103_BurgersEquation1D/">103 : Burger&#39;s Equation 1D</a></li><li><a class="tocitem" href="../examples/Example201_PoissonProblem2D/">201 : Poisson-Problem 2D</a></li><li><a class="tocitem" href="../examples/Example202_LinearElasticity2D/">202 : Linear Elasticity</a></li><li><a class="tocitem" href="../examples/Example203_ReactionConvectionDiffusion2D/">203 : Reaction-Convection-Diffusion-Problem 2D</a></li><li><a class="tocitem" href="../examples/Example204_ReactionConvectionDiffusionSUPG2D/">204 : Reaction-Convection-Diffusion-Problem SUPG 2D</a></li><li><a class="tocitem" href="../examples/Example205_NonlinearPoisson2D/">205 : Nonlinear Poisson Problem 2D</a></li><li><a class="tocitem" href="../examples/Example206_NonlinearPoissonTransient2D/">206 : Nonlinear Poisson Transient 2D</a></li><li><a class="tocitem" href="../examples/Example207_NonlinearElasticityBimetal2D/">207 : Nonlinear Elasticity Bimetal 2D</a></li><li><a class="tocitem" href="../examples/Example208_ObstacleProblem2D/">208 : Obstacle Problem 2D</a></li><li><a class="tocitem" href="../examples/Example209_FaceLagrangeMultiplier2D/">209 : Lagrange Multiplier on Faces</a></li><li><a class="tocitem" href="../examples/Example210_PoissonLshapeAdaptive2D/">210 : Poisson L-shape Adaptive Mesh Refinement</a></li><li><a class="tocitem" href="../examples/Example212_WaveEquation2D/">212 : Wave Equation 2D</a></li><li><a class="tocitem" href="../examples/Example215_TwoNonlinearCoupled2D/">215 : Two nonlinearly coupled PDEs (2D)</a></li><li><a class="tocitem" href="../examples/Example219_AxisymmetricStokes25D/">219 : Axisymmetric Stokes (2.5D)</a></li><li><a class="tocitem" href="../examples/Example220_PlanarLatticeFlow2D/">220 : Planar Lattice Flow 2D</a></li><li><a class="tocitem" href="../examples/Example221_StokesIterated2D/">221 : Stokes iterated penalty method 2D</a></li><li><a class="tocitem" href="../examples/Example222_PressureRobustness2D/">222 : Pressure-robustness 2D</a></li><li><a class="tocitem" href="../examples/Example223_StokesHdivDG2D/">223 : Stokes Hdiv-DG 2D</a></li><li><a class="tocitem" href="../examples/Example224_StokesSVRTEnrichment/">224 : Stokes <span>$SV + RT enrichment$</span></a></li><li><a class="tocitem" href="../examples/Example225_NavierStokesAnderson2D/">225 : Navier-Stokes Lid-driven cavity + Anderson Acceleration</a></li><li><a class="tocitem" href="../examples/Example226_StokesTransient2D/">226 : Stokes Transient 2D</a></li><li><a class="tocitem" href="../examples/Example227_FlowTransport2D/">227 : Flow + Transport 2D</a></li><li><a class="tocitem" href="../examples/Example230_FlowAroundCylinder2D/">230 : Flow around a cylinder 2D</a></li><li><a class="tocitem" href="../examples/Example231_TransientFlowAroundCylinder2D/">231 : Transient Flow around a cylinder 2D</a></li><li><a class="tocitem" href="../examples/Example240_CompressibleStokes2D/">240 : Compressible Stokes 2D</a></li><li><a class="tocitem" href="../examples/Example250_LevelSetMethod2D/">250 : Level Set Method 2D</a></li><li><a class="tocitem" href="../examples/Example260_CahnHilliard2D/">260 : Cahn-Hilliard Equations 2D</a></li><li><a class="tocitem" href="../examples/Example301_Poisson3D/">301 : Poisson-Problem 3D</a></li><li><a class="tocitem" href="../examples/Example302_BestapproximationHdiv3D/">302 : Bestapproximation Hdiv 3D</a></li><li><a class="tocitem" href="../examples/ExampleA01_RationalMassMatrix/">A01 : Rational Mass Matrix</a></li><li><a class="tocitem" href="../examples/ExampleA02_CommutingInterpolators2D/">A02 : Commuting Interpolators 2D</a></li><li><a class="tocitem" href="../examples/ExampleA03_CommutingInterpolators3D/">A03 : Commuting Interpolators 3D</a></li><li><a class="tocitem" href="../examples/ExampleA04_ChangeLinearSolver/">A04 : Change Linear Solvers</a></li><li><a class="tocitem" href="../examples/ExampleA05_DiffEQ/">A05 : Comparison with DifferentialEquations.jl</a></li><li><a class="tocitem" href="../examples/ExampleA06_LocalEquilibratedFluxes2D/">A06 : Local Equilibrated Fluxes 2D</a></li><li><a class="tocitem" href="../examples/ExampleA07_InterpolationBetweenMeshes/">A07 : Interpolation Between Meshes</a></li><li><a class="tocitem" href="../examples/ExampleA08_BasisPlotter/">A08 : Basis-Plotter</a></li><li><a class="tocitem" href="../examples/ExampleA09_PoissonLowLevel/">A09 : Poisson-Problem with low level structures</a></li><li><a class="tocitem" href="../examples/ExampleA10_PoissonPeriodic/">A10 : Poisson-Problem with periodic boundary</a></li><li><a class="tocitem" href="../examples/ExampleA11_NavierStokesFixpointIterations/">A11 : Navier-Stokes Fixed-point iterations</a></li><li><a class="tocitem" href="../examples/ExampleA12_NavierStokesPeriodic/">A12 : Navier-Stokes-Problem with periodic boundary</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Problem Description</a></li><li class="is-active"><a href>User Data and Actions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>User Data and Actions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="github.com/chmerdon/GradientRobustMultiPhysics.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="User-Data-and-Actions"><a class="docs-heading-anchor" href="#User-Data-and-Actions">User Data and Actions</a><a id="User-Data-and-Actions-1"></a><a class="docs-heading-anchor-permalink" href="#User-Data-and-Actions" title="Permalink"></a></h1><p>There is a variety of different user data, like scalar- and vector-valued constants, time-dependent data, region-dependent data or plain functions that depend on the the space coordinates. Also dependency on the item number of the reference coordinates of the quadrature point in the quadrature item are sometimes desireable. To allow for flexible user-specified data, all functions have to be negotiated by the UserData interface that fixes the order and number of the arguments in the interface via a user-given substring of &quot;XTIL&quot; where each character stands for a dependency. The following table explains the meaning of each character.</p><table><tr><th style="text-align: center">Character</th><th style="text-align: left">Explanation</th></tr><tr><td style="text-align: center">X</td><td style="text-align: left">depends on (vector-valued) space coordinates</td></tr><tr><td style="text-align: center">T</td><td style="text-align: left">depends on time coordinate</td></tr><tr><td style="text-align: center">I</td><td style="text-align: left">depends on item information (item nr, parent nr, region)</td></tr><tr><td style="text-align: center">L</td><td style="text-align: left">depends on local coordinates in reference geometry of item</td></tr></table><p>Also note that all functions are expected to write their result into the first argument.</p><h2 id="Data-Function"><a class="docs-heading-anchor" href="#Data-Function">Data Function</a><a id="Data-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Function" title="Permalink"></a></h2><p>DataFunctions can be used to define boundary data, right-hand side functions and can be interpolated by the finite element standard interpolations. The have to be conform to the interface</p><pre><code class="language-julia hljs">function datafunction_kernel!(result,[X,T,I,L])
    # X = space coordinates
    # T = time
    # I = item information (vector with item number (w.r.t. AT), parent number and region  number)
    # L = local coordinates on item reference domain
end</code></pre><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.DataFunction" href="#GradientRobustMultiPhysics.DataFunction"><code>GradientRobustMultiPhysics.DataFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DataFunction(
    kernel::Function,
    argsizes;
    Tv,
    Ti,
    dependencies,
    bonus_quadorder,
    name
) -&gt; DataFunction{Float64, Int32}
</code></pre><p>generates a DataFunction that can be used in the construction of PDEoperators, interpolations etc. and essentially consists of a kernel function specified by the user plus additional information on argument dimensions and additional dependencies:</p><ul><li>kernel   : Function with interface (result, ...)</li><li>argsizes : expected lengths of [result, interface]</li></ul><p>Optional arguments:</p><ul><li>dependencies    : substring of &quot;XTIL&quot; that specifies if the kernel also depends on space coordinates (X), time (T), item (I), local coordinates (L)</li><li>bonus_quadorder : is added to the quadrature order computed based on the used FESpaces during assembly</li><li>name            : name of this Action used in print messages</li><li>Tv              : expected NumberType for result/input</li><li>Ti              : expected NumberType for grid enumeration infos (e.g. item/region numbers when &quot;I&quot; dependecy is used)</li></ul></div><a class="docs-sourcelink" target="_blank" href="github.com/chmerdon/GradientRobustMultiPhysics.jl">source</a></section><section><div><pre><code class="nohighlight hljs">function DataFunction(c::Array{&lt;:Real,1}; name = &quot;constant user data&quot;, quadorder::Int = 0)</code></pre><p>Directly generates a DataFunction from a given array c, i.e. a DataFunction that is constant and has no dependencies on x or t.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/chmerdon/GradientRobustMultiPhysics.jl">source</a></section></article><p>There are also derivatives defined for DataFunctions that generate another DataFunction where the derivative is calculated via ForwardDiff.</p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>DataFunction</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.∇" href="#GradientRobustMultiPhysics.∇"><code>GradientRobustMultiPhysics.∇</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function ∇(UD::AbstractUserDataType; quadorder = UD.quadorder - 1) -&gt; DataFunction</code></pre><p>Provides a DataFunction with the same dependencies that evaluates the gradient of the DataFunction UD. The derivatives are computed by ForwardDiff.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/chmerdon/GradientRobustMultiPhysics.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.div" href="#Base.div"><code>Base.div</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function Base.div(UD::AbstractUserDataType; quadorder = UD.quadorder - 1)</code></pre><p>Provides a DataFunction with the same dependencies that evaluates the divergence of the DataFunction UD. The derivatives are computed by ForwardDiff.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/chmerdon/GradientRobustMultiPhysics.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.curl" href="#GradientRobustMultiPhysics.curl"><code>GradientRobustMultiPhysics.curl</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function curl(UD::AbstractUserDataType; quadorder = UD.quadorder - 1)</code></pre><p>Provides a DataFunction with the same dependencies that evaluates the curl of the DataFunction UD. The derivatives are computed by ForwardDiff.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/chmerdon/GradientRobustMultiPhysics.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.Δ" href="#GradientRobustMultiPhysics.Δ"><code>GradientRobustMultiPhysics.Δ</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function Δ(UD::AbstractUserDataType; quadorder = UD.quadorder - 2)</code></pre><p>Provides a DataFunction with the same dependencies that evaluates the Laplacian of the DataFunction UD. The derivatives are computed by ForwardDiff.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/chmerdon/GradientRobustMultiPhysics.jl">source</a></section></article><h2 id="Action"><a class="docs-heading-anchor" href="#Action">Action</a><a id="Action-1"></a><a class="docs-heading-anchor-permalink" href="#Action" title="Permalink"></a></h2><p>Actions are used by abstract user-defined PDEOperators and consist of an action kernel function of the interface</p><pre><code class="language-julia hljs">function action_kernel!(result,input,[X,T,I,L])
    # result = modified input, possibly depended on
    # X = space coordinates
    # T = time
    # I = item information (vector with item number (w.r.t. AT), parent number and region  number)
    # L = local coordinates on item reference domain
end</code></pre><p>plus some additional infrastructure like expected dimensiona of result and input and further dependencies</p><article class="docstring"><header><a class="docstring-binding" id="GradientRobustMultiPhysics.Action" href="#GradientRobustMultiPhysics.Action"><code>GradientRobustMultiPhysics.Action</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Action(
    kernel::Function,
    argsizes;
    xdim,
    Tv,
    Ti,
    dependencies,
    bonus_quadorder,
    name
) -&gt; DefaultUserAction{Float64, Int32}
</code></pre><p>generates an Action that can be used in the construction of PDEoperators and essentially consists of a kernel function specified by the user plus additional information on argument dimensions and additional dependencies:</p><ul><li>kernel   : Function with interface (result, input, ...)</li><li>argsizes : expected lengths of [result, interface]</li></ul><p>Optional arguments:</p><ul><li>dependencies    : substring of &quot;XTIL&quot; that specifies if the kernel also depends on space coordinates (X), time (T), item (I), local coordinates (L)</li><li>bonus_quadorder : is added to the quadrature order computed based on the used FESpaces during assembly</li><li>name            : name of this Action used in print messages</li><li>Tv              : expected NumberType for result/input</li><li>Ti              : expected NumberType for grid enumeration infos (e.g. item/region numbers when &quot;I&quot; dependecy is used)</li></ul></div><a class="docs-sourcelink" target="_blank" href="github.com/chmerdon/GradientRobustMultiPhysics.jl">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../functionoperators/">« Function Operators</a><a class="docs-footer-nextpage" href="../boundarydata/">Boundary Data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 24 May 2023 11:48">Wednesday 24 May 2023</span>. Using Julia version 1.9.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
